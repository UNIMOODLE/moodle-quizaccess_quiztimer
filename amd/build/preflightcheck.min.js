/**
 * Version details
 *
 * @package    quizaccess_quiztimer
 * @copyright  2023 Proyecto UNIMOODLE
 * @author     UNIMOODLE Group (Coordinator) <direccion.area.estrategia.digital@uva.es>
 * @author     ISYC <soporte@isyc.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("quizaccess_quiztimer/preflightcheck",["jquery","core/str","core/notification"],(function($,str,notification){const change_quiz_form=e=>{target=e.currentTarget;let va=target.value;va=target.webroot+va,window.location.href=va};return selectstrings=str.get_strings([{key:"questions",component:"quiz"},{key:"quiztime",component:"quizaccess_quiztimer"},{key:"pagingchangesnotapply",component:"quizaccess_quiztimer"}]),{init:function(cmid,editmethod,webroot){$(document).ready((function(){null!=$(".custom-select.urlselect.timeselect")[0]?$.when(selectstrings).done((function(selectstrings){select=$(".custom-select.urlselect.timeselect")[0],select.add(new Option(selectstrings[1],"/mod/quiz/accessrule/quiztimer/edit.php?cmid="+cmid+"&editmethod=time"))})):$.when(selectstrings).done((function(selectstrings){if(select=document.createElement("select"),select.setAttribute("class","custom-select urlselect timeselect"),select.setAttribute("id","id_quiztimer_editviewselector"),"time"==editmethod)select.add(new Option(selectstrings[1],"/mod/quiz/accessrule/quiztimer/edit.php?cmid="+cmid)),select.add(new Option(selectstrings[0],"/mod/quiz/edit.php?cmid="+cmid));else if(select.add(new Option(selectstrings[0],"/mod/quiz/edit.php?cmid="+cmid)),select.add(new Option(selectstrings[1],"/mod/quiz/accessrule/quiztimer/edit.php?cmid="+cmid+"&editmethod=time")),"section"==editmethod||"slots"==editmethod){notification.addNotification({message:selectstrings[2],type:"warning"}),document.querySelectorAll(".page_split_join").forEach((pagebreak=>{pagebreak.addEventListener("click",(function(){alert(selectstrings[2])}))}))}let qactions=$(".mod_quiz-edit-action-buttons")[0];null==qactions?$(".activity-header")[0].append(select):qactions.append(select),select.webroot=webroot,select.addEventListener("change",change_quiz_form,!0)}))}))}}}));

//# sourceMappingURL=preflightcheck.min.js.map